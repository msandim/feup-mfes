class TestTrainLine is subclass of TestCase

operations  

	public testSimpleMovement: () ==> ()
	testSimpleMovement() ==
	(
		dcl trainLine: TrainLine := TrainLineBuilder`buildMap1();
		trainLine.moveTrain(1);
		
		-- Test the position of the new train and check the semaphores:
		assertEqual(trainLine.getTrain(1).getBlock(), trainLine.getModule(4).getBlock(<Up>));
		assertEqual(<Yellow>, trainLine.getModule(3).getBlock(<Up>).getSemaphore());
		assertEqual(<Yellow>, trainLine.getTrain(1).getBlock().getModule().getDownModule().getBlock(<Up>).getSemaphore());
		
		IO`println("Passed simple movement test");
	);

  public testAll: () ==> ()
  testAll() ==
  (
  	testSimpleMovement();
  );
  
end TestTrainLine